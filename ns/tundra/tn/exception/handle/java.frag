<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="name">handle</value>
  <value name="encodeutf8">true</value>
  <value name="body">SURhdGFDdXJzb3IgY3Vyc29yID0gcGlwZWxpbmUuZ2V0Q3Vyc29yKCk7Cgp0cnkgewogICAgQml6
RG9jRW52ZWxvcGUgYml6ZG9jID0gQml6RG9jRW52ZWxvcGVIZWxwZXIubm9ybWFsaXplKElEYXRh
SGVscGVyLmdldChjdXJzb3IsICIkYml6ZG9jIiwgSURhdGEuY2xhc3MsIHRydWUpLCB0cnVlLCBm
YWxzZSk7CiAgICBUaHJvd2FibGUgZXhjZXB0aW9uID0gSURhdGFIZWxwZXIuZ2V0KGN1cnNvciwg
IiRleGNlcHRpb24iLCBUaHJvd2FibGUuY2xhc3MsIHRydWUpOwogICAgYm9vbGVhbiBzdGF0dXNT
aWxlbmNlID0gSURhdGFIZWxwZXIuZ2V0T3JEZWZhdWx0KGN1cnNvciwgIiRzdGF0dXMuc2lsZW5j
ZT8iLCBCb29sZWFuLmNsYXNzLCBmYWxzZSk7CiAgICBTdHJpbmcgc2VydmljZSA9IElEYXRhSGVs
cGVyLmdldE9yRGVmYXVsdChjdXJzb3IsICIkZXhjZXB0aW9uLnNlcnZpY2UiLCBTdHJpbmcuY2xh
c3MsICJ0dW5kcmEudG4uZXhjZXB0aW9uOmhhbmRsZSIpOwoKICAgIFN0cmluZyBtZXNzYWdlQ2xh
c3MgPSAiUHJvY2Vzc2luZyIsCiAgICAgICAgICAgbWVzc2FnZVN1bW1hcnkgPSBleGNlcHRpb24u
Z2V0TWVzc2FnZSgpLCAKICAgICAgICAgICBtZXNzYWdlRGV0YWlsID0gRXhjZXB0aW9uSGVscGVy
LmdldFN0YWNrVHJhY2VTdHJpbmcoZXhjZXB0aW9uLCAzKSwKICAgICAgICAgICB1c2VyU3RhdHVz
ID0gIkVSUk9SIjsKICAgIAogICAgaWYgKG1lc3NhZ2VTdW1tYXJ5ID09IG51bGwgfHwgbWVzc2Fn
ZVN1bW1hcnkudHJpbSgpLmVxdWFscygiIikpIHsKICAgICAgICBtZXNzYWdlU3VtbWFyeSA9IGV4
Y2VwdGlvbi50b1N0cmluZygpOwogICAgfSBlbHNlIHsKICAgICAgICBTdHJpbmcgZXhjZXB0aW9u
Q2xhc3NOYW1lID0gZXhjZXB0aW9uLmdldENsYXNzKCkuZ2V0U2ltcGxlTmFtZSgpOwogICAgICAg
IGlmIChleGNlcHRpb25DbGFzc05hbWUgIT0gbnVsbCkgewogICAgICAgICAgICBtZXNzYWdlU3Vt
bWFyeSA9IGV4Y2VwdGlvbkNsYXNzTmFtZSArICI6ICIgKyBtZXNzYWdlU3VtbWFyeTsKICAgICAg
ICB9CiAgICB9CgogICAgaWYgKGV4Y2VwdGlvbiAhPSBudWxsKSB7CiAgICAgICAgQ2xhc3MgZXhj
ZXB0aW9uQ2xhc3MgPSBleGNlcHRpb24uZ2V0Q2xhc3MoKTsKICAgICAgICB0cnkgewogICAgICAg
ICAgICBNZXRob2QgZ2V0UHJvcGVydGllcyA9IGV4Y2VwdGlvbkNsYXNzLmdldE1ldGhvZCgiZ2V0
UHJvcGVydGllcyIpOwogICAgICAgICAgICBpZiAoZ2V0UHJvcGVydGllcyAhPSBudWxsKSB7CiAg
ICAgICAgICAgICAgICBPYmplY3QgcmV0dXJuVmFsdWUgPSBnZXRQcm9wZXJ0aWVzLmludm9rZShl
eGNlcHRpb24pOwogICAgICAgICAgICAgICAgaWYgKHJldHVyblZhbHVlIGluc3RhbmNlb2YgTWFw
KSB7CiAgICAgICAgICAgICAgICAgICAgTWFwIGV4Y2VwdGlvbkRvY3VtZW50ID0gKE1hcClyZXR1
cm5WYWx1ZTsKICAgICAgICAgICAgICAgICAgICBpZiAoIUJvb2xlYW5IZWxwZXIucGFyc2UoKFN0
cmluZylleGNlcHRpb25Eb2N1bWVudC5nZXQoIiRleGNlcHRpb24ucmVjb3ZlcmFibGU/IiksIHRy
dWUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VDbGFzcyA9ICJVbnJlY292ZXJh
YmxlIjsKICAgICAgICAgICAgICAgICAgICAgICAgdXNlclN0YXR1cyA9ICJBQk9SVEVEIjsKICAg
ICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIE9iamVjdCBleGNlcHRpb25D
b250ZW50T2JqZWN0ID0gZXhjZXB0aW9uRG9jdW1lbnQuZ2V0KCIkZXhjZXB0aW9uLmNvbnRlbnQi
KTsKICAgICAgICAgICAgICAgICAgICBpZiAoZXhjZXB0aW9uQ29udGVudE9iamVjdCBpbnN0YW5j
ZW9mIE1hcCkgewogICAgICAgICAgICAgICAgICAgICAgICBNYXAgZXhjZXB0aW9uQ29udGVudCA9
IChNYXApZXhjZXB0aW9uQ29udGVudE9iamVjdDsKICAgICAgICAgICAgICAgICAgICAgICAgaWYg
KGV4Y2VwdGlvbkNvbnRlbnQuc2l6ZSgpID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAg
ICAgU3RyaW5nQnVpbGRlciBidWlsZGVyID0gbmV3IFN0cmluZ0J1aWxkZXIoKTsKICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlRGV0YWlsICE9IG51bGwpIGJ1aWxkZXIuYXBw
ZW5kKG1lc3NhZ2VEZXRhaWwudHJpbSgpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRy
eSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnl0ZVtdIGNvbnRlbnQgPSAoYnl0
ZVtdKWV4Y2VwdGlvbkNvbnRlbnQuZ2V0KCIkY29udGVudCIpOwogICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIFN0cmluZyBjb250ZW50VHlwZSA9IChTdHJpbmcpZXhjZXB0aW9uQ29udGVu
dC5nZXQoIiRjb250ZW50LnR5cGUiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJ
RGF0YSBjb250ZXh0ID0gKElEYXRhKWV4Y2VwdGlvbkNvbnRlbnQuZ2V0KCIkY29udGVudC5jb250
ZXh0Iik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQgIT0gbnVsbCAmJiBjb250ZW50Lmxlbmd0aCA+IDAp
IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nIGV4dGVuc2lvbiA9
ICIiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudFR5cGUg
IT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5z
aW9uID0gIi4iICsgTUlNRVR5cGVIZWxwZXIuZ2V0RmlsZUV4dGVuc2lvbihjb250ZW50VHlwZSk7
CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIFN0cmluZyBwYXJ0TmFtZSA9IHNlcnZpY2UucmVwbGFjZUFsbCgi
XFxXIiwgIl8iKSArICJfZXhjZXB0aW9uXyIgKyBEYXRlVGltZUhlbHBlci5ub3coInl5eXlNTWRk
SEhtbXNzU1NTWiIpICsgZXh0ZW5zaW9uOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgSURhdGFNYXAgc2NvcGUgPSBuZXcgSURhdGFNYXAoKTsKICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgc2NvcGUucHV0KCIkYml6ZG9jIiwgYml6ZG9jKTsKICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUucHV0KCIkY29udGVudCIsIGNvbnRlbnQp
OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5wdXQoIiRjb250ZW50
LnBhcnQiLCBwYXJ0TmFtZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNj
b3BlLnB1dCgiJGNvbnRlbnQudHlwZSIsIGNvbnRlbnRUeXBlKTsKICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgc2NvcGUucHV0KCIkb3ZlcndyaXRlPyIsICJ0cnVlIik7CgogICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZXJ2aWNlLmRvSW52b2tlKE5TTmFtZS5j
cmVhdGUoInR1bmRyYS50bi5kb2N1bWVudC5jb250ZW50OmFkZCIpLCBzY29wZSk7CgogICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWlsZGVyLmFwcGVuZCgiXG4tLS1cblJlZmVy
IHRvIGNvbnRlbnQgcGFydDogIikuYXBwZW5kKHBhcnROYW1lKTsKICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250
ZXh0ICE9IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSURhdGFZ
QU1MUGFyc2VyIHBhcnNlciA9IG5ldyBJRGF0YVlBTUxQYXJzZXIoKTsKICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgU3RyaW5nIGNvbnRleHRTdHJpbmcgPSBwYXJzZXIuZW1pdChj
b250ZXh0LCBTdHJpbmcuY2xhc3MpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBidWlsZGVyLmFwcGVuZCgiXG4tLS1cbiIpLmFwcGVuZChjb250ZXh0U3RyaW5nKTsKICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9
IGNhdGNoKEV4Y2VwdGlvbiBleCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v
IHN1cHByZXNzL2lnbm9yZSBleGNlcHRpb25zIGFkZGluZyBjb250ZW50IHBhcnQKICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgbWVzc2FnZURldGFpbCA9IGJ1aWxkZXIudG9TdHJpbmcoKTsKICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAg
ICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0gY2F0Y2goSWxs
ZWdhbEFjY2Vzc0V4Y2VwdGlvbiBleCkgewogICAgICAgICAgICAvLyBkbyBub3RoaW5nCiAgICAg
ICAgfSBjYXRjaChJbnZvY2F0aW9uVGFyZ2V0RXhjZXB0aW9uIGV4KSB7CiAgICAgICAgICAgIC8v
IGRvIG5vdGhpbmcKICAgICAgICB9IGNhdGNoKE5vU3VjaE1ldGhvZEV4Y2VwdGlvbiBleCkgewog
ICAgICAgICAgICAvLyBkbyBub3RoaW5nCiAgICAgICAgfQogICAgfQoKICAgIEFjdGl2aXR5TG9n
SGVscGVyLmxvZyhFbnRyeVR5cGUuRVJST1IsIG1lc3NhZ2VDbGFzcywgbWVzc2FnZVN1bW1hcnks
IG1lc3NhZ2VEZXRhaWwsIGJpemRvYyk7CiAgICBCaXpEb2NFbnZlbG9wZUhlbHBlci5zZXRTdGF0
dXMoYml6ZG9jLCBudWxsLCB1c2VyU3RhdHVzLCBzdGF0dXNTaWxlbmNlKTsKCiAgICBFeGNlcHRp
b25IZWxwZXIucmFpc2UoZXhjZXB0aW9uKTsKfSBmaW5hbGx5IHsKICAgIGN1cnNvci5kZXN0cm95
KCk7Cn0=</value>
</Values>
