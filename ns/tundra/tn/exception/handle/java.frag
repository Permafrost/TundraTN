<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="name">handle</value>
  <value name="encodeutf8">true</value>
  <value name="body">SURhdGFDdXJzb3IgY3Vyc29yID0gcGlwZWxpbmUuZ2V0Q3Vyc29yKCk7Cgp0cnkgewogICAgQml6
RG9jRW52ZWxvcGUgYml6ZG9jID0gQml6RG9jRW52ZWxvcGVIZWxwZXIubm9ybWFsaXplKElEYXRh
SGVscGVyLmdldChjdXJzb3IsICIkYml6ZG9jIiwgSURhdGEuY2xhc3MsIHRydWUpLCB0cnVlLCBm
YWxzZSk7CiAgICBUaHJvd2FibGUgZXhjZXB0aW9uID0gSURhdGFIZWxwZXIuZ2V0KGN1cnNvciwg
IiRleGNlcHRpb24iLCBUaHJvd2FibGUuY2xhc3MsIHRydWUpOwogICAgYm9vbGVhbiBzdGF0dXNT
aWxlbmNlID0gSURhdGFIZWxwZXIuZ2V0T3JEZWZhdWx0KGN1cnNvciwgIiRzdGF0dXMuc2lsZW5j
ZT8iLCBCb29sZWFuLmNsYXNzLCBmYWxzZSk7CiAgICBTdHJpbmcgc2VydmljZSA9IElEYXRhSGVs
cGVyLmdldE9yRGVmYXVsdChjdXJzb3IsICIkZXhjZXB0aW9uLnNlcnZpY2UiLCBTdHJpbmcuY2xh
c3MsICJ0dW5kcmEudG4uZXhjZXB0aW9uOmhhbmRsZSIpOwoKICAgIFN0cmluZyBtZXNzYWdlQ2xh
c3MgPSAiUHJvY2Vzc2luZyIsCiAgICAgICAgICAgbWVzc2FnZVN1bW1hcnkgPSBleGNlcHRpb24u
Z2V0TWVzc2FnZSgpLCAKICAgICAgICAgICBtZXNzYWdlRGV0YWlsID0gRXhjZXB0aW9uSGVscGVy
LmdldFN0YWNrVHJhY2VTdHJpbmcoZXhjZXB0aW9uLCAzKSwKICAgICAgICAgICB1c2VyU3RhdHVz
ID0gIkVSUk9SIjsKICAgIAogICAgaWYgKG1lc3NhZ2VTdW1tYXJ5ID09IG51bGwgfHwgbWVzc2Fn
ZVN1bW1hcnkudHJpbSgpLmVxdWFscygiIikpIHsKICAgICAgICBtZXNzYWdlU3VtbWFyeSA9IGV4
Y2VwdGlvbi50b1N0cmluZygpOwogICAgfSBlbHNlIHsKICAgICAgICBTdHJpbmcgZXhjZXB0aW9u
Q2xhc3NOYW1lID0gZXhjZXB0aW9uLmdldENsYXNzKCkuZ2V0U2ltcGxlTmFtZSgpOwogICAgICAg
IGlmIChleGNlcHRpb25DbGFzc05hbWUgIT0gbnVsbCkgewogICAgICAgICAgICBtZXNzYWdlU3Vt
bWFyeSA9IGV4Y2VwdGlvbkNsYXNzTmFtZSArICI6ICIgKyBtZXNzYWdlU3VtbWFyeTsKICAgICAg
ICB9CiAgICB9CgogICAgaWYgKGV4Y2VwdGlvbiBpbnN0YW5jZW9mIElEYXRhQ29kYWJsZSkgewog
ICAgICAgIElEYXRhTWFwIGV4Y2VwdGlvbkRvY3VtZW50ID0gSURhdGFNYXAub2YoKChJRGF0YUNv
ZGFibGUpZXhjZXB0aW9uKS5nZXRJRGF0YSgpKTsKICAgICAgICBpZiAoIUJvb2xlYW5IZWxwZXIu
cGFyc2UoKFN0cmluZylleGNlcHRpb25Eb2N1bWVudC5nZXQoIiRleGNlcHRpb24ucmVjb3ZlcmFi
bGU/IiksIHRydWUpKSB7CiAgICAgICAgICAgIG1lc3NhZ2VDbGFzcyA9ICJVbnJlY292ZXJhYmxl
IjsKICAgICAgICAgICAgdXNlclN0YXR1cyA9ICJBQk9SVEVEIjsKICAgICAgICB9CgogICAgICAg
IElEYXRhTWFwIGV4Y2VwdGlvbkNvbnRlbnQgPSBJRGF0YU1hcC5vZigoSURhdGEpZXhjZXB0aW9u
RG9jdW1lbnQuZ2V0KCIkZXhjZXB0aW9uLmNvbnRlbnQiKSk7CgogICAgICAgIGlmIChleGNlcHRp
b25Db250ZW50LnNpemUoKSA+IDApIHsKICAgICAgICAgICAgU3RyaW5nQnVpbGRlciBidWlsZGVy
ID0gbmV3IFN0cmluZ0J1aWxkZXIoKTsKICAgICAgICAgICAgaWYgKG1lc3NhZ2VEZXRhaWwgIT0g
bnVsbCkgYnVpbGRlci5hcHBlbmQobWVzc2FnZURldGFpbC50cmltKCkpOwogICAgICAgICAgICB0
cnkgewogICAgICAgICAgICAgICAgYnl0ZVtdIGNvbnRlbnQgPSAoYnl0ZVtdKWV4Y2VwdGlvbkNv
bnRlbnQuZ2V0KCIkY29udGVudCIpOwogICAgICAgICAgICAgICAgU3RyaW5nIGNvbnRlbnRUeXBl
ID0gKFN0cmluZylleGNlcHRpb25Db250ZW50LmdldCgiJGNvbnRlbnQudHlwZSIpOwogICAgICAg
ICAgICAgICAgSURhdGEgY29udGV4dCA9IChJRGF0YSlleGNlcHRpb25Db250ZW50LmdldCgiJGNv
bnRlbnQuY29udGV4dCIpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAoY29u
dGVudCAhPSBudWxsICYmIGNvbnRlbnQubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAg
IFN0cmluZyBleHRlbnNpb24gPSAiIjsKICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudFR5
cGUgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICBleHRlbnNpb24gPSAiLiIgKyBN
SU1FVHlwZUhlbHBlci5nZXRGaWxlRXh0ZW5zaW9uKGNvbnRlbnRUeXBlKTsKICAgICAgICAgICAg
ICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIFN0cmluZyBwYXJ0TmFtZSA9IHNlcnZpY2Uu
cmVwbGFjZUFsbCgiXFxXIiwgIl8iKSArICJfZXhjZXB0aW9uXyIgKyBEYXRlVGltZUhlbHBlci5u
b3coInl5eXlNTWRkSEhtbXNzU1NTWiIpICsgZXh0ZW5zaW9uOwoKICAgICAgICAgICAgICAgICAg
ICBJRGF0YU1hcCBzY29wZSA9IG5ldyBJRGF0YU1hcCgpOwogICAgICAgICAgICAgICAgICAgIHNj
b3BlLnB1dCgiJGJpemRvYyIsIGJpemRvYyk7CiAgICAgICAgICAgICAgICAgICAgc2NvcGUucHV0
KCIkY29udGVudCIsIGNvbnRlbnQpOwogICAgICAgICAgICAgICAgICAgIHNjb3BlLnB1dCgiJGNv
bnRlbnQucGFydCIsIHBhcnROYW1lKTsKICAgICAgICAgICAgICAgICAgICBzY29wZS5wdXQoIiRj
b250ZW50LnR5cGUiLCBjb250ZW50VHlwZSk7CiAgICAgICAgICAgICAgICAgICAgc2NvcGUucHV0
KCIkb3ZlcndyaXRlPyIsICJ0cnVlIik7CgogICAgICAgICAgICAgICAgICAgIFNlcnZpY2UuZG9J
bnZva2UoTlNOYW1lLmNyZWF0ZSgidHVuZHJhLnRuLmRvY3VtZW50LmNvbnRlbnQ6YWRkIiksIHNj
b3BlKTsKCiAgICAgICAgICAgICAgICAgICAgYnVpbGRlci5hcHBlbmQoIlxuLS0tXG5SZWZlciB0
byBjb250ZW50IHBhcnQ6ICIpLmFwcGVuZChwYXJ0TmFtZSk7CiAgICAgICAgICAgICAgICB9Cgog
ICAgICAgICAgICAgICAgaWYgKGNvbnRleHQgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAg
IElEYXRhWUFNTFBhcnNlciBwYXJzZXIgPSBuZXcgSURhdGFZQU1MUGFyc2VyKCk7CiAgICAgICAg
ICAgICAgICAgICAgU3RyaW5nIGNvbnRleHRTdHJpbmcgPSBwYXJzZXIuZW1pdChjb250ZXh0LCBT
dHJpbmcuY2xhc3MpOwogICAgICAgICAgICAgICAgICAgIGJ1aWxkZXIuYXBwZW5kKCJcbi0tLVxu
IikuYXBwZW5kKGNvbnRleHRTdHJpbmcpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9
IGNhdGNoKEV4Y2VwdGlvbiBleCkgewogICAgICAgICAgICAgICAgLy8gc3VwcHJlc3MvaWdub3Jl
IGV4Y2VwdGlvbnMgYWRkaW5nIGNvbnRlbnQgcGFydAogICAgICAgICAgICB9IGZpbmFsbHkgewog
ICAgICAgICAgICAgICAgbWVzc2FnZURldGFpbCA9IGJ1aWxkZXIudG9TdHJpbmcoKTsKICAgICAg
ICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBBY3Rpdml0eUxvZ0hlbHBlci5sb2coRW50cnlU
eXBlLkVSUk9SLCBtZXNzYWdlQ2xhc3MsIG1lc3NhZ2VTdW1tYXJ5LCBtZXNzYWdlRGV0YWlsLCBi
aXpkb2MpOwogICAgQml6RG9jRW52ZWxvcGVIZWxwZXIuc2V0U3RhdHVzKGJpemRvYywgbnVsbCwg
dXNlclN0YXR1cywgc3RhdHVzU2lsZW5jZSk7CgogICAgRXhjZXB0aW9uSGVscGVyLnJhaXNlKGV4
Y2VwdGlvbik7Cn0gZmluYWxseSB7CiAgICBjdXJzb3IuZGVzdHJveSgpOwp9</value>
</Values>
