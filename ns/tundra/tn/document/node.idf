<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="encodeutf8">true</value>
  <value name="shared">cHVibGljIHN0YXRpYyBjbGFzcyBBY3Rpdml0eUxvZyB7CiAgICBwdWJsaWMgc3RhdGljIHZvaWQg
bG9nKElEYXRhIHBpcGVsaW5lKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7CiAgICAgICAgSURh
dGFDdXJzb3IgY3Vyc29yID0gcGlwZWxpbmUuZ2V0Q3Vyc29yKCk7CgogICAgICAgIHRyeSB7CiAg
ICAgICAgICAgIEJpekRvY0VudmVsb3BlIGJpemRvYyA9IEJpekRvY0VudmVsb3BlSGVscGVyLm5v
cm1hbGl6ZShJRGF0YUhlbHBlci5nZXQoY3Vyc29yLCAiJGJpemRvYyIsIElEYXRhLmNsYXNzKSwg
ZmFsc2UsIGZhbHNlKTsKICAgICAgICAgICAgU3RyaW5nIGVudHJ5VHlwZSA9IElEYXRhSGVscGVy
LmdldE9yRGVmYXVsdChjdXJzb3IsICIkdHlwZSIsIFN0cmluZy5jbGFzcywgIk1FU1NBR0UiKTsK
ICAgICAgICAgICAgU3RyaW5nIGVudHJ5Q2xhc3MgPSBJRGF0YUhlbHBlci5nZXRPckRlZmF1bHQo
Y3Vyc29yLCAiJGNsYXNzIiwgU3RyaW5nLmNsYXNzLCAiR2VuZXJhbCIpOwogICAgICAgICAgICBT
dHJpbmcgbWVzc2FnZVN1bW1hcnkgPSBJRGF0YUhlbHBlci5nZXQoY3Vyc29yLCAiJHN1bW1hcnki
LCBTdHJpbmcuY2xhc3MpOwogICAgICAgICAgICBTdHJpbmcgbWVzc2FnZURldGFpbCA9IElEYXRh
SGVscGVyLmdldChjdXJzb3IsICIkbWVzc2FnZSIsIFN0cmluZy5jbGFzcyk7CiAgICAgICAgICAg
IElEYXRhIGNvbnRleHQgPSBJRGF0YUhlbHBlci5nZXQoY3Vyc29yLCAiJGNvbnRleHQiLCBJRGF0
YS5jbGFzcyk7CgogICAgICAgICAgICBBY3Rpdml0eUxvZ0hlbHBlci5sb2coRW50cnlUeXBlLm5v
cm1hbGl6ZShlbnRyeVR5cGUpLCBlbnRyeUNsYXNzLCBtZXNzYWdlU3VtbWFyeSwgbWVzc2FnZURl
dGFpbCwgYml6ZG9jLCBjb250ZXh0KTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBj
dXJzb3IuZGVzdHJveSgpOwogICAgICAgIH0KICAgIH0KfQoKcHVibGljIHN0YXRpYyBjbGFzcyBE
b2N1bWVudEF0dHJpYnV0ZSB7CiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWVyZ2UoSURhdGEgcGlw
ZWxpbmUpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uIHsKICAgICAgICBJRGF0YUN1cnNvciBjdXJz
b3IgPSBwaXBlbGluZS5nZXRDdXJzb3IoKTsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgQml6
RG9jRW52ZWxvcGUgYml6ZG9jID0gQml6RG9jRW52ZWxvcGVIZWxwZXIubm9ybWFsaXplKElEYXRh
SGVscGVyLmdldChjdXJzb3IsICIkYml6ZG9jIiwgSURhdGEuY2xhc3MpLCBmYWxzZSwgZmFsc2Up
OwogICAgICAgICAgICBJRGF0YSBhdHRyaWJ1dGVzID0gSURhdGFIZWxwZXIuZ2V0KGN1cnNvciwg
IiRhdHRyaWJ1dGVzIiwgSURhdGEuY2xhc3MpOwogICAgICAgICAgICBib29sZWFuIHN1YnN0aXR1
dGUgPSBJRGF0YUhlbHBlci5nZXRPckRlZmF1bHQoY3Vyc29yLCAiJHN1YnN0aXR1dGU/IiwgQm9v
bGVhbi5jbGFzcywgZmFsc2UpOwoKICAgICAgICAgICAgQml6RG9jQXR0cmlidXRlSGVscGVyLm1l
cmdlKGJpemRvYywgYXR0cmlidXRlcywgcGlwZWxpbmUsIHN1YnN0aXR1dGUpOwogICAgICAgIH0g
ZmluYWxseSB7CiAgICAgICAgICAgIGN1cnNvci5kZXN0cm95KCk7CiAgICAgICAgfQogICAgfQp9
CgpwdWJsaWMgc3RhdGljIGNsYXNzIERvY3VtZW50QXR0cmlidXRlTnVtYmVyVHJhbnNmb3JtZXJQ
cmlvcml0eSB7CiAgICBwdWJsaWMgc3RhdGljIHZvaWQgaW1taW5lbmNlKElEYXRhIHBpcGVsaW5l
KSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7CiAgICAgICAgVHJhbnNmb3JtZXIudHJhbnNmb3Jt
KHBpcGVsaW5lLCBuZXcgSW1taW5lbnRQcmlvcml0aXplcigpKTsKICAgIH0KfQoKcHVibGljIHN0
YXRpYyBjbGFzcyBEb2N1bWVudEF0dHJpYnV0ZVN0cmluZ1RyYW5zZm9ybWVyUHJvZmlsZSB7CiAg
ICBwdWJsaWMgc3RhdGljIHZvaWQgZmluZChJRGF0YSBwaXBlbGluZSkgdGhyb3dzIFNlcnZpY2VF
eGNlcHRpb24gewogICAgICAgIFRyYW5zZm9ybWVyLnRyYW5zZm9ybShwaXBlbGluZSwgbmV3IFBy
b2ZpbGVGaW5kZXIoKSk7CiAgICB9Cn0KCnB1YmxpYyBzdGF0aWMgY2xhc3MgRG9jdW1lbnRBdHRy
aWJ1dGVTdHJpbmdUcmFuc2Zvcm1lckZpbmQgewogICAgcHVibGljIHN0YXRpYyB2b2lkIGFsbChJ
RGF0YSBwaXBlbGluZSkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gewogICAgICAgIFRyYW5zZm9y
bWVyLnRyYW5zZm9ybShwaXBlbGluZSwgbmV3IEZpbmRQYXR0ZXJuSW5BbGwoKSk7CiAgICB9Cgog
ICAgcHVibGljIHN0YXRpYyB2b2lkIGFueShJRGF0YSBwaXBlbGluZSkgdGhyb3dzIFNlcnZpY2VF
eGNlcHRpb24gewogICAgICAgIFRyYW5zZm9ybWVyLnRyYW5zZm9ybShwaXBlbGluZSwgbmV3IEZp
bmRQYXR0ZXJuSW5BbnkoKSk7CiAgICB9CgogICAgcHVibGljIHN0YXRpYyB2b2lkIG5vbmUoSURh
dGEgcGlwZWxpbmUpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uIHsKICAgICAgICBUcmFuc2Zvcm1l
ci50cmFuc2Zvcm0ocGlwZWxpbmUsIG5ldyBGaW5kUGF0dGVybkluTm9uZSgpKTsKICAgIH0KfQoK
cHVibGljIHN0YXRpYyBjbGFzcyBEb2N1bWVudEF0dHJpYnV0ZVN0cmluZ1RyYW5zZm9ybWVyTWF0
Y2ggewogICAgcHVibGljIHN0YXRpYyB2b2lkIGFsbChJRGF0YSBwaXBlbGluZSkgdGhyb3dzIFNl
cnZpY2VFeGNlcHRpb24gewogICAgICAgIFRyYW5zZm9ybWVyLnRyYW5zZm9ybShwaXBlbGluZSwg
bmV3IE1hdGNoUGF0dGVybkluQWxsKCkpOwogICAgfQoKICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBh
bnkoSURhdGEgcGlwZWxpbmUpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uIHsKICAgICAgICBUcmFu
c2Zvcm1lci50cmFuc2Zvcm0ocGlwZWxpbmUsIG5ldyBNYXRjaFBhdHRlcm5JbkFueSgpKTsKICAg
IH0KCiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbm9uZShJRGF0YSBwaXBlbGluZSkgdGhyb3dzIFNl
cnZpY2VFeGNlcHRpb24gewogICAgICAgIFRyYW5zZm9ybWVyLnRyYW5zZm9ybShwaXBlbGluZSwg
bmV3IE1hdGNoUGF0dGVybkluTm9uZSgpKTsKICAgIH0KfQoKcHVibGljIHN0YXRpYyBjbGFzcyBE
b2N1bWVudENvbnRlbnQgewogICAgcHVibGljIHN0YXRpYyB2b2lkIGFkZChJRGF0YSBwaXBlbGlu
ZSkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gewogICAgICAgIElEYXRhQ3Vyc29yIGN1cnNvciA9
IHBpcGVsaW5lLmdldEN1cnNvcigpOwoKICAgICAgICB0cnkgewogICAgICAgICAgICBCaXpEb2NF
bnZlbG9wZSBkb2N1bWVudCA9IEJpekRvY0VudmVsb3BlSGVscGVyLm5vcm1hbGl6ZShJRGF0YUhl
bHBlci5nZXQoY3Vyc29yLCAiJGJpemRvYyIsIElEYXRhLmNsYXNzKSwgdHJ1ZSwgZmFsc2UpOwog
ICAgICAgICAgICBPYmplY3QgY29udGVudCA9IElEYXRhSGVscGVyLmdldChjdXJzb3IsICIkY29u
dGVudCIpOwogICAgICAgICAgICBTdHJpbmcgcGFydE5hbWUgPSBJRGF0YUhlbHBlci5maXJzdChj
dXJzb3IsIFN0cmluZy5jbGFzcywgIiRjb250ZW50LnBhcnQiLCAiJHBhcnQiKTsKICAgICAgICAg
ICAgU3RyaW5nIGNvbnRlbnRUeXBlID0gSURhdGFIZWxwZXIuZ2V0KGN1cnNvciwgIiRjb250ZW50
LnR5cGUiLCBTdHJpbmcuY2xhc3MpOwogICAgICAgICAgICBDaGFyc2V0IGNvbnRlbnRFbmNvZGlu
ZyA9IElEYXRhSGVscGVyLmZpcnN0KGN1cnNvciwgQ2hhcnNldC5jbGFzcywgIiRjb250ZW50LmVu
Y29kaW5nIiwgIiRlbmNvZGluZyIpOwogICAgICAgICAgICBib29sZWFuIG92ZXJ3cml0ZSA9IElE
YXRhSGVscGVyLmdldE9yRGVmYXVsdChjdXJzb3IsICIkb3ZlcndyaXRlPyIsIEJvb2xlYW4uY2xh
c3MsIGZhbHNlKTsKCiAgICAgICAgICAgIEJpekRvY0NvbnRlbnRIZWxwZXIuYWRkQ29udGVudFBh
cnQoZG9jdW1lbnQsIHBhcnROYW1lLCBjb250ZW50VHlwZSwgY29udGVudEVuY29kaW5nLCBJbnB1
dFN0cmVhbUhlbHBlci5ub3JtYWxpemUoY29udGVudCwgY29udGVudEVuY29kaW5nKSwgb3Zlcndy
aXRlKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBjdXJzb3IuZGVzdHJveSgpOwog
ICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIHZvaWQgZXhpc3RzKElEYXRhIHBpcGVs
aW5lKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7CiAgICAgICAgSURhdGFDdXJzb3IgY3Vyc29y
ID0gcGlwZWxpbmUuZ2V0Q3Vyc29yKCk7CgogICAgICAgIHRyeSB7CiAgICAgICAgICAgIEJpekRv
Y0VudmVsb3BlIGRvY3VtZW50ID0gQml6RG9jRW52ZWxvcGVIZWxwZXIubm9ybWFsaXplKElEYXRh
SGVscGVyLmdldChjdXJzb3IsICIkYml6ZG9jIiwgSURhdGEuY2xhc3MpLCB0cnVlLCBmYWxzZSk7
CiAgICAgICAgICAgIFN0cmluZyBwYXJ0TmFtZSA9IElEYXRhSGVscGVyLmZpcnN0KGN1cnNvciwg
U3RyaW5nLmNsYXNzLCAiJGNvbnRlbnQucGFydCIsICIkcGFydCIpOwoKICAgICAgICAgICAgSURh
dGFIZWxwZXIucHV0KGN1cnNvciwgIiRleGlzdHM/IiwgQml6RG9jQ29udGVudEhlbHBlci5leGlz
dHMoZG9jdW1lbnQsIHBhcnROYW1lKSwgU3RyaW5nLmNsYXNzKTsKICAgICAgICB9IGZpbmFsbHkg
ewogICAgICAgICAgICBjdXJzb3IuZGVzdHJveSgpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJs
aWMgc3RhdGljIHZvaWQgZ2V0KElEYXRhIHBpcGVsaW5lKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlv
biB7CiAgICAgICAgSURhdGFDdXJzb3IgY3Vyc29yID0gcGlwZWxpbmUuZ2V0Q3Vyc29yKCk7Cgog
ICAgICAgIHRyeSB7CiAgICAgICAgICAgIEJpekRvY0VudmVsb3BlIGRvY3VtZW50ID0gQml6RG9j
RW52ZWxvcGVIZWxwZXIubm9ybWFsaXplKElEYXRhSGVscGVyLmdldChjdXJzb3IsICIkYml6ZG9j
IiwgSURhdGEuY2xhc3MpLCB0cnVlLCBmYWxzZSk7CiAgICAgICAgICAgIFN0cmluZyBwYXJ0TmFt
ZSA9IElEYXRhSGVscGVyLmZpcnN0KGN1cnNvciwgU3RyaW5nLmNsYXNzLCAiJGNvbnRlbnQucGFy
dCIsICIkcGFydCIpOwogICAgICAgICAgICBTdHJpbmcgbW9kZSA9IElEYXRhSGVscGVyLmZpcnN0
KGN1cnNvciwgU3RyaW5nLmNsYXNzLCAiJGNvbnRlbnQubW9kZSIsICIkbW9kZSIpOwoKICAgICAg
ICAgICAgaWYgKGRvY3VtZW50ICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIEJpekRvY0NvbnRl
bnRQYXJ0IGNvbnRlbnRQYXJ0ID0gQml6RG9jQ29udGVudEhlbHBlci5nZXRDb250ZW50UGFydChk
b2N1bWVudCwgcGFydE5hbWUpOwogICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRQYXJ0ICE9IG51
bGwpIHsKICAgICAgICAgICAgICAgICAgICBJbnB1dFN0cmVhbSBjb250ZW50ID0gQml6RG9jQ29u
dGVudEhlbHBlci5nZXRDb250ZW50KGRvY3VtZW50LCBjb250ZW50UGFydCk7CiAgICAgICAgICAg
ICAgICAgICAgaWYgKGNvbnRlbnQgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICBT
dHJpbmcgY29udGVudFR5cGUgPSBCaXpEb2NDb250ZW50SGVscGVyLmdldENvbnRlbnRUeXBlKGNv
bnRlbnRQYXJ0KTsKICAgICAgICAgICAgICAgICAgICAgICAgQ2hhcnNldCBjaGFyc2V0ID0gQ2hh
cnNldEhlbHBlci5ub3JtYWxpemUobnVsbCwgTUlNRVR5cGVIZWxwZXIub2YoY29udGVudFR5cGUp
LCBmYWxzZSk7CgogICAgICAgICAgICAgICAgICAgICAgICBJRGF0YUhlbHBlci5wdXQoY3Vyc29y
LCAiJGNvbnRlbnQiLCBPYmplY3RIZWxwZXIuY29udmVydChjb250ZW50LCBjaGFyc2V0LCBtb2Rl
KSk7CiAgICAgICAgICAgICAgICAgICAgICAgIElEYXRhSGVscGVyLnB1dChjdXJzb3IsICIkY29u
dGVudC5wYXJ0IiwgY29udGVudFBhcnQuZ2V0UGFydE5hbWUoKSwgZmFsc2UpOwogICAgICAgICAg
ICAgICAgICAgICAgICBJRGF0YUhlbHBlci5wdXQoY3Vyc29yLCAiJGNvbnRlbnQudHlwZSIsIGNv
bnRlbnRUeXBlLCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIElEYXRhSGVscGVyLnB1
dChjdXJzb3IsICIkY29udGVudC5sZW5ndGgiLCBjb250ZW50UGFydC5nZXRMZW5ndGgoKSwgU3Ry
aW5nLmNsYXNzKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAg
ICAgICAgIH0KICAgICAgICB9IGNhdGNoKElPRXhjZXB0aW9uIGV4KSB7CiAgICAgICAgICAgIEV4
Y2VwdGlvbkhlbHBlci5yYWlzZShleCk7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAg
Y3Vyc29yLmRlc3Ryb3koKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIHN0YXRpYyB2b2lk
IHJlbW92ZShJRGF0YSBwaXBlbGluZSkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gewogICAgICAg
IElEYXRhQ3Vyc29yIGN1cnNvciA9IHBpcGVsaW5lLmdldEN1cnNvcigpOwoKICAgICAgICB0cnkg
ewogICAgICAgICAgICBCaXpEb2NFbnZlbG9wZSBkb2N1bWVudCA9IEJpekRvY0VudmVsb3BlSGVs
cGVyLm5vcm1hbGl6ZShJRGF0YUhlbHBlci5nZXQoY3Vyc29yLCAiJGJpemRvYyIsIElEYXRhLmNs
YXNzKSwgdHJ1ZSwgZmFsc2UpOwogICAgICAgICAgICBTdHJpbmcgcGFydE5hbWUgPSBJRGF0YUhl
bHBlci5maXJzdChjdXJzb3IsIFN0cmluZy5jbGFzcywgIiRjb250ZW50LnBhcnQiLCAiJHBhcnQi
KTsKCiAgICAgICAgICAgIEJpekRvY0NvbnRlbnRIZWxwZXIucmVtb3ZlQ29udGVudFBhcnQoZG9j
dW1lbnQsIHBhcnROYW1lKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBjdXJzb3Iu
ZGVzdHJveSgpOwogICAgICAgIH0KICAgIH0KfQoKcHVibGljIHN0YXRpYyBjbGFzcyBEb2N1bWVu
dERlcml2YXRpdmUgewogICAgcHVibGljIHN0YXRpYyB2b2lkIGV4aXN0cyhJRGF0YSBwaXBlbGlu
ZSkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gewogICAgICAgIElEYXRhQ3Vyc29yIGN1cnNvciA9
IHBpcGVsaW5lLmdldEN1cnNvcigpOwoKICAgICAgICB0cnkgewogICAgICAgICAgICBTdHJpbmcg
b3JpZ2luYWxEb2N1bWVudElEID0gQml6RG9jRW52ZWxvcGVIZWxwZXIuZ2V0SWRlbnRpdHkoSURh
dGFIZWxwZXIuZ2V0KGN1cnNvciwgIiRiaXpkb2MiLCBJRGF0YS5jbGFzcykpOwogICAgICAgICAg
ICBTdHJpbmcgZGVyaXZlZFNlbmRlcklEID0gUHJvZmlsZUhlbHBlci5nZXRJZGVudGl0eShJRGF0
YUhlbHBlci5nZXQoY3Vyc29yLCAiJHNlbmRlciIsIElEYXRhLmNsYXNzKSk7CiAgICAgICAgICAg
IFN0cmluZyBkZXJpdmVkUmVjZWl2ZXJJRCA9IFByb2ZpbGVIZWxwZXIuZ2V0SWRlbnRpdHkoSURh
dGFIZWxwZXIuZ2V0KGN1cnNvciwgIiRyZWNlaXZlciIsIElEYXRhLmNsYXNzKSk7CgogICAgICAg
ICAgICBCaXpEb2NFbnZlbG9wZSBkZXJpdmVkRG9jdW1lbnQgPSBCaXpEb2NFbnZlbG9wZUhlbHBl
ci5nZXREZXJpdmF0aXZlKG9yaWdpbmFsRG9jdW1lbnRJRCwgZGVyaXZlZFNlbmRlcklELCBkZXJp
dmVkUmVjZWl2ZXJJRCk7CgogICAgICAgICAgICBJRGF0YUhlbHBlci5wdXQoY3Vyc29yLCAiJGV4
aXN0cz8iLCBkZXJpdmVkRG9jdW1lbnQgIT0gbnVsbCwgU3RyaW5nLmNsYXNzKTsKICAgICAgICAg
ICAgSURhdGFIZWxwZXIucHV0KGN1cnNvciwgIiRkZXJpdmF0aXZlIiwgZGVyaXZlZERvY3VtZW50
LCBmYWxzZSk7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgY3Vyc29yLmRlc3Ryb3ko
KTsKICAgICAgICB9CiAgICB9Cn0KCnB1YmxpYyBzdGF0aWMgY2xhc3MgRG9jdW1lbnREdXBsaWNh
dGUgewogICAgcHVibGljIHN0YXRpYyB2b2lkIGNvbnRlbnQoSURhdGEgcGlwZWxpbmUpIHRocm93
cyBTZXJ2aWNlRXhjZXB0aW9uIHsKICAgICAgICBJRGF0YUN1cnNvciBjdXJzb3IgPSBwaXBlbGlu
ZS5nZXRDdXJzb3IoKTsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgYm9vbGVhbiB1c2VEdXBD
aGVja1NwZWNpZmljYXRpb24gPSBmYWxzZTsKCiAgICAgICAgICAgIElEYXRhIGRvY3VtZW50ID0g
SURhdGFIZWxwZXIuZ2V0KGN1cnNvciwgIiRiaXpkb2MiLCBJRGF0YS5jbGFzcyk7CiAgICAgICAg
ICAgIElEYXRhIGRvY3VtZW50V2l0aE5vUHJlZml4ID0gSURhdGFIZWxwZXIuZ2V0KGN1cnNvciwg
ImJpemRvYyIsIElEYXRhLmNsYXNzKTsKCiAgICAgICAgICAgIGlmIChkb2N1bWVudCA9PSBudWxs
KSB7CiAgICAgICAgICAgICAgICBkb2N1bWVudCA9IGRvY3VtZW50V2l0aE5vUHJlZml4OwogICAg
ICAgICAgICAgICAgaWYgKGRvY3VtZW50ID09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICB0
aHJvdyBuZXcgTnVsbFBvaW50ZXJFeGNlcHRpb24oImJpemRvYyBtdXN0IG5vdCBiZSBudWxsIik7
CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHVzZUR1cENoZWNr
U3BlY2lmaWNhdGlvbiA9IHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxz
ZSBpZiAoZG9jdW1lbnRXaXRoTm9QcmVmaXggIT0gbnVsbCkgewogICAgICAgICAgICAgICAgU3Ry
aW5nIGludGVybmFsSUQgPSBJRGF0YUhlbHBlci5nZXQoZG9jdW1lbnQsICJJbnRlcm5hbElEIiwg
U3RyaW5nLmNsYXNzKTsKICAgICAgICAgICAgICAgIHVzZUR1cENoZWNrU3BlY2lmaWNhdGlvbiA9
IGludGVybmFsSUQgIT0gbnVsbCAmJiBpbnRlcm5hbElELmVxdWFscyhJRGF0YUhlbHBlci5nZXQo
ZG9jdW1lbnRXaXRoTm9QcmVmaXgsICJJbnRlcm5hbElEIiwgU3RyaW5nLmNsYXNzKSk7CiAgICAg
ICAgICAgIH0KCiAgICAgICAgICAgIEJpekRvY0VudmVsb3BlIGJpemRvYyA9IEJpekRvY0VudmVs
b3BlSGVscGVyLm5vcm1hbGl6ZShkb2N1bWVudCwgdHJ1ZSwgdHJ1ZSk7CiAgICAgICAgICAgIE9i
amVjdCBjb250ZW50ID0gSURhdGFIZWxwZXIuZ2V0KGN1cnNvciwgdXNlRHVwQ2hlY2tTcGVjaWZp
Y2F0aW9uID8gImJpemRvYy5jb250ZW50IiA6ICIkYml6ZG9jLmNvbnRlbnQiKTsKCiAgICAgICAg
ICAgIGlmIChjb250ZW50ID09IG51bGwpIHsKICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBCaXpE
b2NDb250ZW50SGVscGVyLmdldENvbnRlbnQoYml6ZG9jKTsKICAgICAgICAgICAgfQoKICAgICAg
ICAgICAgQml6RG9jRW52ZWxvcGVIZWxwZXIuRHVwbGljYXRlUmVzdWx0IHJlc3VsdDsKICAgICAg
ICAgICAgaWYgKGNvbnRlbnQgaW5zdGFuY2VvZiBJRGF0YSkgewogICAgICAgICAgICAgICAgcmVz
dWx0ID0gQml6RG9jRW52ZWxvcGVIZWxwZXIuaXNEdXBsaWNhdGUoYml6ZG9jLCAoSURhdGEpY29u
dGVudCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXN1bHQgPSBCaXpE
b2NFbnZlbG9wZUhlbHBlci5pc0R1cGxpY2F0ZShiaXpkb2MsIElucHV0U3RyZWFtSGVscGVyLm5v
cm1hbGl6ZShjb250ZW50KSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIElEYXRhSGVscGVy
LnB1dChjdXJzb3IsICIkYml6ZG9jIiwgcmVzdWx0LmdldERvY3VtZW50KCkpOwogICAgICAgICAg
ICBJRGF0YUhlbHBlci5wdXQoY3Vyc29yLCAiJGJpemRvYy5jb250ZW50IiwgY29udGVudCBpbnN0
YW5jZW9mIElucHV0U3RyZWFtID8gcmVzdWx0LmdldENvbnRlbnQoKSA6IGNvbnRlbnQpOwogICAg
ICAgICAgICBJRGF0YUhlbHBlci5wdXQoY3Vyc29yLCAiJGJpemRvYy5kdXBsaWNhdGU/IiwgcmVz
dWx0LmlzRHVwbGljYXRlKCksIFN0cmluZy5jbGFzcyk7CiAgICAgICAgICAgIElEYXRhSGVscGVy
LnB1dChjdXJzb3IsICIkYml6ZG9jLmR1cGxpY2F0ZS5rZXkiLCByZXN1bHQuZ2V0VW5pcXVlS2V5
KCkpOwogICAgICAgICAgICBJRGF0YUhlbHBlci5wdXQoY3Vyc29yLCAiJGJpemRvYy5kdXBsaWNh
dGUubWVzc2FnZSIsIHJlc3VsdC50b1N0cmluZygpKTsKICAgICAgICAgICAgaWYgKHJlc3VsdC5p
c0R1cGxpY2F0ZSgpKSBJRGF0YUhlbHBlci5wdXQoY3Vyc29yLCAiJGJpemRvYy5kdXBsaWNhdGUi
LCByZXN1bHQuZ2V0RHVwbGljYXRlKCkpOwoKICAgICAgICAgICAgaWYgKHVzZUR1cENoZWNrU3Bl
Y2lmaWNhdGlvbikgewogICAgICAgICAgICAgICAgSURhdGFIZWxwZXIucHV0KGN1cnNvciwgImR1
cGxpY2F0ZSIsIHJlc3VsdC5pc0R1cGxpY2F0ZSgpLCBTdHJpbmcuY2xhc3MpOwogICAgICAgICAg
ICAgICAgSURhdGFIZWxwZXIucHV0KGN1cnNvciwgIm1lc3NhZ2UiLCByZXN1bHQudG9TdHJpbmco
KSk7CiAgICAgICAgICAgICAgICBJRGF0YUhlbHBlci5wdXQoY3Vyc29yLCAiYml6ZG9jIiwgcmVz
dWx0LmdldERvY3VtZW50KCkpOwogICAgICAgICAgICAgICAgSURhdGFIZWxwZXIucHV0KGN1cnNv
ciwgImJpemRvYy5jb250ZW50IiwgY29udGVudCBpbnN0YW5jZW9mIElucHV0U3RyZWFtID8gcmVz
dWx0LmdldENvbnRlbnQoKSA6IGNvbnRlbnQpOwogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5p
c0R1cGxpY2F0ZSgpKSBJRGF0YUhlbHBlci5wdXQoY3Vyc29yLCAiYml6ZG9jLmR1cGxpY2F0ZSIs
IHJlc3VsdC5nZXREdXBsaWNhdGUoKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGZpbmFsbHkg
ewogICAgICAgICAgICBjdXJzb3IuZGVzdHJveSgpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJs
aWMgc3RhdGljIHZvaWQgaWRlbnRpdHkoSURhdGEgcGlwZWxpbmUpIHRocm93cyBTZXJ2aWNlRXhj
ZXB0aW9uIHsKICAgICAgICBJRGF0YUN1cnNvciBjdXJzb3IgPSBwaXBlbGluZS5nZXRDdXJzb3Io
KTsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgYm9vbGVhbiB1c2VEdXBDaGVja1NwZWNpZmlj
YXRpb24gPSBmYWxzZTsKCiAgICAgICAgICAgIElEYXRhIGRvY3VtZW50ID0gSURhdGFIZWxwZXIu
Z2V0KGN1cnNvciwgIiRiaXpkb2MiLCBJRGF0YS5jbGFzcyk7CiAgICAgICAgICAgIElEYXRhIGRv
Y3VtZW50V2l0aE5vUHJlZml4ID0gSURhdGFIZWxwZXIuZ2V0KGN1cnNvciwgImJpemRvYyIsIElE
YXRhLmNsYXNzKTsKCiAgICAgICAgICAgIGlmIChkb2N1bWVudCA9PSBudWxsKSB7CiAgICAgICAg
ICAgICAgICBkb2N1bWVudCA9IGRvY3VtZW50V2l0aE5vUHJlZml4OwogICAgICAgICAgICAgICAg
aWYgKGRvY3VtZW50ID09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTnVs
bFBvaW50ZXJFeGNlcHRpb24oImJpemRvYyBtdXN0IG5vdCBiZSBudWxsIik7CiAgICAgICAgICAg
ICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHVzZUR1cENoZWNrU3BlY2lmaWNhdGlv
biA9IHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSBpZiAoZG9jdW1l
bnRXaXRoTm9QcmVmaXggIT0gbnVsbCkgewogICAgICAgICAgICAgICAgU3RyaW5nIGludGVybmFs
SUQgPSBJRGF0YUhlbHBlci5nZXQoZG9jdW1lbnQsICJJbnRlcm5hbElEIiwgU3RyaW5nLmNsYXNz
KTsKICAgICAgICAgICAgICAgIHVzZUR1cENoZWNrU3BlY2lmaWNhdGlvbiA9IGludGVybmFsSUQg
IT0gbnVsbCAmJiBpbnRlcm5hbElELmVxdWFscyhJRGF0YUhlbHBlci5nZXQoZG9jdW1lbnRXaXRo
Tm9QcmVmaXgsICJJbnRlcm5hbElEIiwgU3RyaW5nLmNsYXNzKSk7CiAgICAgICAgICAgIH0KCiAg
ICAgICAgICAgIEJpekRvY0VudmVsb3BlIGJpemRvYyA9IEJpekRvY0VudmVsb3BlSGVscGVyLm5v
cm1hbGl6ZShkb2N1bWVudCwgdHJ1ZSwgdHJ1ZSk7CgogICAgICAgICAgICBCaXpEb2NFbnZlbG9w
ZUhlbHBlci5EdXBsaWNhdGVSZXN1bHQgcmVzdWx0ID0gQml6RG9jRW52ZWxvcGVIZWxwZXIuaXNE
dXBsaWNhdGUoYml6ZG9jKTsKCiAgICAgICAgICAgIElEYXRhSGVscGVyLnB1dChjdXJzb3IsICIk
Yml6ZG9jIiwgcmVzdWx0LmdldERvY3VtZW50KCkpOwogICAgICAgICAgICBJRGF0YUhlbHBlci5w
dXQoY3Vyc29yLCAiJGJpemRvYy5kdXBsaWNhdGU/IiwgcmVzdWx0LmlzRHVwbGljYXRlKCksIFN0
cmluZy5jbGFzcyk7CiAgICAgICAgICAgIElEYXRhSGVscGVyLnB1dChjdXJzb3IsICIkYml6ZG9j
LmR1cGxpY2F0ZS5rZXkiLCByZXN1bHQuZ2V0VW5pcXVlS2V5KCkpOwogICAgICAgICAgICBJRGF0
YUhlbHBlci5wdXQoY3Vyc29yLCAiJGJpemRvYy5kdXBsaWNhdGUubWVzc2FnZSIsIHJlc3VsdC50
b1N0cmluZygpKTsKICAgICAgICAgICAgaWYgKHJlc3VsdC5pc0R1cGxpY2F0ZSgpKSBJRGF0YUhl
bHBlci5wdXQoY3Vyc29yLCAiJGJpemRvYy5kdXBsaWNhdGUiLCByZXN1bHQuZ2V0RHVwbGljYXRl
KCkpOwoKICAgICAgICAgICAgaWYgKHVzZUR1cENoZWNrU3BlY2lmaWNhdGlvbikgewogICAgICAg
ICAgICAgICAgSURhdGFIZWxwZXIucHV0KGN1cnNvciwgImR1cGxpY2F0ZSIsIHJlc3VsdC5pc0R1
cGxpY2F0ZSgpLCBTdHJpbmcuY2xhc3MpOwogICAgICAgICAgICAgICAgSURhdGFIZWxwZXIucHV0
KGN1cnNvciwgIm1lc3NhZ2UiLCByZXN1bHQudG9TdHJpbmcoKSk7CiAgICAgICAgICAgICAgICBJ
RGF0YUhlbHBlci5wdXQoY3Vyc29yLCAiYml6ZG9jIiwgcmVzdWx0LmdldERvY3VtZW50KCkpOwog
ICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5pc0R1cGxpY2F0ZSgpKSBJRGF0YUhlbHBlci5wdXQo
Y3Vyc29yLCAiYml6ZG9jLmR1cGxpY2F0ZSIsIHJlc3VsdC5nZXREdXBsaWNhdGUoKSk7CiAgICAg
ICAgICAgIH0KICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBjdXJzb3IuZGVzdHJveSgp
OwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIHZvaWQga2V5KElEYXRhIHBpcGVs
aW5lKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7CiAgICAgICAgSURhdGFDdXJzb3IgY3Vyc29y
ID0gcGlwZWxpbmUuZ2V0Q3Vyc29yKCk7CgogICAgICAgIHRyeSB7CiAgICAgICAgICAgIEJpekRv
Y0VudmVsb3BlIGJpemRvYyA9IEJpekRvY0VudmVsb3BlSGVscGVyLm5vcm1hbGl6ZShJRGF0YUhl
bHBlci5nZXQoY3Vyc29yLCAiJGJpemRvYyIsIElEYXRhLmNsYXNzKSwgdHJ1ZSwgdHJ1ZSk7CiAg
ICAgICAgICAgIE9iamVjdCBjb250ZW50ID0gSURhdGFIZWxwZXIuZ2V0KGN1cnNvciwgIiRiaXpk
b2MuY29udGVudCIpOwogICAgICAgICAgICBib29sZWFuIHVzZUNvbnRlbnQgPSAiY29udGVudCIu
ZXF1YWxzKElEYXRhSGVscGVyLmdldE9yRGVmYXVsdChjdXJzb3IsICIkYml6ZG9jLmR1cGxpY2F0
ZS5rZXkudHlwZSIsIFN0cmluZy5jbGFzcywgImNvbnRlbnQiKSk7CgogICAgICAgICAgICBpZiAo
Y29udGVudCA9PSBudWxsKSB7CiAgICAgICAgICAgICAgICBjb250ZW50ID0gQml6RG9jQ29udGVu
dEhlbHBlci5nZXRDb250ZW50KGJpemRvYyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIE1h
cC5FbnRyeTxTdHJpbmcsIElucHV0U3RyZWFtPiByZXN1bHQ7CiAgICAgICAgICAgIGlmIChjb250
ZW50IGluc3RhbmNlb2YgSURhdGEpIHsKICAgICAgICAgICAgICAgIHJlc3VsdCA9IEJpekRvY0Vu
dmVsb3BlSGVscGVyLmdldFVuaXF1ZUtleShiaXpkb2MsIHVzZUNvbnRlbnQgPyAoSURhdGEpY29u
dGVudCA6IG51bGwpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmVzdWx0
ID0gQml6RG9jRW52ZWxvcGVIZWxwZXIuZ2V0VW5pcXVlS2V5KGJpemRvYywgdXNlQ29udGVudCA/
IElucHV0U3RyZWFtSGVscGVyLm5vcm1hbGl6ZShjb250ZW50KSA6IG51bGwpOwogICAgICAgICAg
ICB9CgogICAgICAgICAgICBJRGF0YUhlbHBlci5wdXQoY3Vyc29yLCAiJGJpemRvYyIsIGJpemRv
Yyk7CiAgICAgICAgICAgIElEYXRhSGVscGVyLnB1dChjdXJzb3IsICIkYml6ZG9jLmNvbnRlbnQi
LCBjb250ZW50IGluc3RhbmNlb2YgSW5wdXRTdHJlYW0gPyByZXN1bHQuZ2V0VmFsdWUoKSA6IGNv
bnRlbnQpOwogICAgICAgICAgICBJRGF0YUhlbHBlci5wdXQoY3Vyc29yLCAiJGJpemRvYy5kdXBs
aWNhdGUua2V5IiwgcmVzdWx0LmdldEtleSgpKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAg
ICAgICBjdXJzb3IuZGVzdHJveSgpOwogICAgICAgIH0KICAgIH0KfQoKcHVibGljIHN0YXRpYyBj
bGFzcyBEb2N1bWVudEVycm9yIHsKICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBleGlzdHMoSURhdGEg
cGlwZWxpbmUpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uIHsKICAgICAgICBJRGF0YUN1cnNvciBj
dXJzb3IgPSBwaXBlbGluZS5nZXRDdXJzb3IoKTsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAg
SURhdGEgYml6ZG9jID0gSURhdGFIZWxwZXIuZ2V0KGN1cnNvciwgIiRiaXpkb2MiLCBJRGF0YS5j
bGFzcyk7CiAgICAgICAgICAgIElEYXRhIGNsYXNzZXMgPSBJRGF0YUhlbHBlci5nZXQoY3Vyc29y
LCAiJGNsYXNzIiwgSURhdGEuY2xhc3MpOwoKICAgICAgICAgICAgQWN0aXZpdHlMb2dFbnRyeVtd
IGVycm9ycyA9IEJpekRvY0VudmVsb3BlSGVscGVyLmdldEVycm9ycyhiaXpkb2MsIGNsYXNzZXMp
OwoKICAgICAgICAgICAgSURhdGFIZWxwZXIucHV0KGN1cnNvciwgIiRleGlzdHM/IiwgZXJyb3Jz
ICE9IG51bGwgJiYgZXJyb3JzLmxlbmd0aCA+IDAsIFN0cmluZy5jbGFzcyk7CiAgICAgICAgICAg
IElEYXRhSGVscGVyLnB1dChjdXJzb3IsICIkZXJyb3JzIiwgSURhdGFIZWxwZXIubm9ybWFsaXpl
KGVycm9ycyksIGZhbHNlKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBjdXJzb3Iu
ZGVzdHJveSgpOwogICAgICAgIH0KICAgIH0KfQoKcHVibGljIHN0YXRpYyBjbGFzcyBEb2N1bWVu
dE5hbWVzcGFjZSB7CiAgICBwdWJsaWMgc3RhdGljIHZvaWQgZ2V0KElEYXRhIHBpcGVsaW5lKSB0
aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7CiAgICAgICAgSURhdGFDdXJzb3IgY3Vyc29yID0gcGlw
ZWxpbmUuZ2V0Q3Vyc29yKCk7CgogICAgICAgIHRyeSB7CiAgICAgICAgICAgIEJpekRvY0VudmVs
b3BlIGJpemRvYyA9IEJpekRvY0VudmVsb3BlSGVscGVyLm5vcm1hbGl6ZShJRGF0YUhlbHBlci5n
ZXQoY3Vyc29yLCAiJGJpemRvYyIsIElEYXRhLmNsYXNzKSwgZmFsc2UsIGZhbHNlKTsKICAgICAg
ICAgICAgSURhdGFIZWxwZXIucHV0KGN1cnNvciwgIiRuYW1lc3BhY2UiLCBCaXpEb2NFbnZlbG9w
ZUhlbHBlci5nZXROYW1lc3BhY2VEZWNsYXJhdGlvbnMoYml6ZG9jKSwgZmFsc2UpOwogICAgICAg
IH0gZmluYWxseSB7CiAgICAgICAgICAgIGN1cnNvci5kZXN0cm95KCk7CiAgICAgICAgfQogICAg
fQp9CgpwdWJsaWMgc3RhdGljIGNsYXNzIERvY3VtZW50U2NoZW1hIHsKICAgIHB1YmxpYyBzdGF0
aWMgdm9pZCBnZXQoSURhdGEgcGlwZWxpbmUpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uIHsKICAg
ICAgICBJRGF0YUN1cnNvciBjdXJzb3IgPSBwaXBlbGluZS5nZXRDdXJzb3IoKTsKCiAgICAgICAg
dHJ5IHsKICAgICAgICAgICAgQml6RG9jRW52ZWxvcGUgYml6ZG9jID0gQml6RG9jRW52ZWxvcGVI
ZWxwZXIubm9ybWFsaXplKElEYXRhSGVscGVyLmdldChjdXJzb3IsICIkYml6ZG9jIiwgSURhdGEu
Y2xhc3MpLCBmYWxzZSwgZmFsc2UpOwogICAgICAgICAgICBJRGF0YUhlbHBlci5wdXQoY3Vyc29y
LCAiJHNjaGVtYSIsIEJpekRvY0VudmVsb3BlSGVscGVyLmdldENvbnRlbnRTY2hlbWEoYml6ZG9j
KSwgZmFsc2UpOwogICAgICAgICAgICBJRGF0YUhlbHBlci5wdXQoY3Vyc29yLCAiJHNjaGVtYS50
eXBlIiwgQml6RG9jRW52ZWxvcGVIZWxwZXIuZ2V0Q29udGVudFNjaGVtYVR5cGUoYml6ZG9jKSwg
ZmFsc2UpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIGN1cnNvci5kZXN0cm95KCk7
CiAgICAgICAgfQogICAgfQp9CgpwdWJsaWMgc3RhdGljIGNsYXNzIERvY3VtZW50U3RhdHVzIHsK
ICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBzZXQoSURhdGEgcGlwZWxpbmUpIHRocm93cyBTZXJ2aWNl
RXhjZXB0aW9uIHsKICAgICAgICBJRGF0YUN1cnNvciBjdXJzb3IgPSBwaXBlbGluZS5nZXRDdXJz
b3IoKTsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgQml6RG9jRW52ZWxvcGUgYml6ZG9jID0g
Qml6RG9jRW52ZWxvcGVIZWxwZXIubm9ybWFsaXplKElEYXRhSGVscGVyLmdldChjdXJzb3IsICIk
Yml6ZG9jIiwgSURhdGEuY2xhc3MpLCBmYWxzZSwgZmFsc2UpOwogICAgICAgICAgICBTdHJpbmcg
c3lzdGVtU3RhdHVzID0gSURhdGFIZWxwZXIuZ2V0KGN1cnNvciwgIiRzdGF0dXMuc3lzdGVtIiwg
U3RyaW5nLmNsYXNzKTsKICAgICAgICAgICAgU3RyaW5nIHByZXZpb3VzU3lzdGVtU3RhdHVzID0g
SURhdGFIZWxwZXIuZ2V0KGN1cnNvciwgIiRzdGF0dXMuc3lzdGVtLnByZXZpb3VzIiwgU3RyaW5n
LmNsYXNzKTsKICAgICAgICAgICAgU3RyaW5nIHVzZXJTdGF0dXMgPSBJRGF0YUhlbHBlci5maXJz
dChjdXJzb3IsIFN0cmluZy5jbGFzcywgIiRzdGF0dXMudXNlciIsICIkc3RhdHVzIik7CiAgICAg
ICAgICAgIFN0cmluZyBwcmV2aW91c1VzZXJTdGF0dXMgPSBJRGF0YUhlbHBlci5nZXQoY3Vyc29y
LCAiJHN0YXR1cy51c2VyLnByZXZpb3VzIiwgU3RyaW5nLmNsYXNzKTsKICAgICAgICAgICAgYm9v
bGVhbiBzaWxlbmNlID0gSURhdGFIZWxwZXIuZ2V0T3JEZWZhdWx0KGN1cnNvciwgIiRzdGF0dXMu
c2lsZW5jZT8iLCBCb29sZWFuLmNsYXNzLCBmYWxzZSk7CgogICAgICAgICAgICBCaXpEb2NFbnZl
bG9wZUhlbHBlci5zZXRTdGF0dXMoYml6ZG9jLCBzeXN0ZW1TdGF0dXMsIHByZXZpb3VzU3lzdGVt
U3RhdHVzLCB1c2VyU3RhdHVzLCBwcmV2aW91c1VzZXJTdGF0dXMsIHNpbGVuY2UpOwogICAgICAg
IH0gZmluYWxseSB7CiAgICAgICAgICAgIGN1cnNvci5kZXN0cm95KCk7CiAgICAgICAgfQogICAg
fQp9CgpwdWJsaWMgc3RhdGljIGNsYXNzIERvY3VtZW50VHlwZSB7CiAgICBwdWJsaWMgc3RhdGlj
IHZvaWQgZ2V0KElEYXRhIHBpcGVsaW5lKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7CiAgICAg
ICAgSURhdGFDdXJzb3IgY3Vyc29yID0gcGlwZWxpbmUuZ2V0Q3Vyc29yKCk7CgogICAgICAgIHRy
eSB7CiAgICAgICAgICAgIGJvb2xlYW4gYmFja3dhcmRzQ29tcGF0aWJsZSA9IGZhbHNlOwoKICAg
ICAgICAgICAgU3RyaW5nIGlkID0gSURhdGFIZWxwZXIuZ2V0KGN1cnNvciwgIiRkb2N1bWVudC50
eXBlLmlkIiwgU3RyaW5nLmNsYXNzKTsKICAgICAgICAgICAgU3RyaW5nIG5hbWUgPSBJRGF0YUhl
bHBlci5nZXQoY3Vyc29yLCAiJGRvY3VtZW50LnR5cGUubmFtZSIsIFN0cmluZy5jbGFzcyk7Cgog
ICAgICAgICAgICBpZiAoaWQgPT0gbnVsbCAmJiBuYW1lID09IG51bGwpIHsKICAgICAgICAgICAg
ICAgIGlkID0gSURhdGFIZWxwZXIuZ2V0KGN1cnNvciwgIiRpZCIsIFN0cmluZy5jbGFzcyk7CiAg
ICAgICAgICAgICAgICBuYW1lID0gSURhdGFIZWxwZXIuZ2V0KGN1cnNvciwgIiRuYW1lIiwgU3Ry
aW5nLmNsYXNzKTsKICAgICAgICAgICAgICAgIGJhY2t3YXJkc0NvbXBhdGlibGUgPSBpZCAhPSBu
dWxsIHx8IG5hbWUgIT0gbnVsbDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgQml6RG9jVHlw
ZSB0eXBlID0gbnVsbDsKCiAgICAgICAgICAgIGlmIChpZCAhPSBudWxsKSB7CiAgICAgICAgICAg
ICAgICB0eXBlID0gQml6RG9jVHlwZUhlbHBlci5nZXQoaWQpOwogICAgICAgICAgICB9IGVsc2Ug
aWYgKG5hbWUgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgdHlwZSA9IEJpekRvY1R5cGVIZWxw
ZXIuZ2V0QnlOYW1lKG5hbWUpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAodHlwZSAh
PSBudWxsKSB7CiAgICAgICAgICAgICAgICBJRGF0YUhlbHBlci5wdXQoY3Vyc29yLCBiYWNrd2Fy
ZHNDb21wYXRpYmxlID8gIiR0eXBlIiA6ICIkZG9jdW1lbnQudHlwZSIsIElEYXRhSGVscGVyLm5v
cm1hbGl6ZSgoSURhdGEpdHlwZSkpOwogICAgICAgICAgICB9CiAgICAgICAgfSBmaW5hbGx5IHsK
ICAgICAgICAgICAgY3Vyc29yLmRlc3Ryb3koKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGlj
IHN0YXRpYyB2b2lkIG5vcm1hbGl6ZShJRGF0YSBwaXBlbGluZSkgdGhyb3dzIFNlcnZpY2VFeGNl
cHRpb24gewogICAgICAgIElEYXRhQ3Vyc29yIGN1cnNvciA9IHBpcGVsaW5lLmdldEN1cnNvcigp
OwoKICAgICAgICB0cnkgewogICAgICAgICAgICBib29sZWFuIGJhY2t3YXJkc0NvbXBhdGlibGUg
PSBmYWxzZTsKCiAgICAgICAgICAgIEJpekRvY1R5cGUgdHlwZSA9IEJpekRvY1R5cGVIZWxwZXIu
bm9ybWFsaXplKElEYXRhSGVscGVyLmdldChjdXJzb3IsICIkZG9jdW1lbnQudHlwZSIsIElEYXRh
LmNsYXNzKSk7CgogICAgICAgICAgICBpZiAodHlwZSA9PSBudWxsKSB7CiAgICAgICAgICAgICAg
ICB0eXBlID0gQml6RG9jVHlwZUhlbHBlci5ub3JtYWxpemUoSURhdGFIZWxwZXIuZ2V0KGN1cnNv
ciwgIiR0eXBlIiwgSURhdGEuY2xhc3MpKTsKICAgICAgICAgICAgICAgIGJhY2t3YXJkc0NvbXBh
dGlibGUgPSB0eXBlICE9IG51bGw7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICh0eXBl
ICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIElEYXRhSGVscGVyLnB1dChjdXJzb3IsIGJhY2t3
YXJkc0NvbXBhdGlibGUgPyAiJHR5cGUiIDogIiRkb2N1bWVudC50eXBlIiwgSURhdGFIZWxwZXIu
bm9ybWFsaXplKChJRGF0YSl0eXBlKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGZpbmFsbHkg
ewogICAgICAgICAgICBjdXJzb3IuZGVzdHJveSgpOwogICAgICAgIH0KICAgIH0KfQoKcHVibGlj
IHN0YXRpYyBjbGFzcyBEb2N1bWVudFR5cGVTY2hlbWEgewogICAgcHVibGljIHN0YXRpYyB2b2lk
IGdldChJRGF0YSBwaXBlbGluZSkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gewogICAgICAgIElE
YXRhQ3Vyc29yIGN1cnNvciA9IHBpcGVsaW5lLmdldEN1cnNvcigpOwoKICAgICAgICB0cnkgewog
ICAgICAgICAgICBCaXpEb2NUeXBlIHR5cGUgPSBCaXpEb2NUeXBlSGVscGVyLm5vcm1hbGl6ZShJ
RGF0YUhlbHBlci5nZXQoY3Vyc29yLCAiJGRvY3VtZW50LnR5cGUiLCBJRGF0YS5jbGFzcykpOwog
ICAgICAgICAgICBpZiAodHlwZSA9PSBudWxsKSB7CiAgICAgICAgICAgICAgICB0eXBlID0gQml6
RG9jVHlwZUhlbHBlci5ub3JtYWxpemUoSURhdGFIZWxwZXIuZ2V0KGN1cnNvciwgIiR0eXBlIiwg
SURhdGEuY2xhc3MpKTsKICAgICAgICAgICAgICAgIElEYXRhSGVscGVyLnB1dChjdXJzb3IsICIk
c2NoZW1hIiwgQml6RG9jVHlwZUhlbHBlci5nZXRDb250ZW50U2NoZW1hKHR5cGUpLCBmYWxzZSk7
CiAgICAgICAgICAgICAgICBJRGF0YUhlbHBlci5wdXQoY3Vyc29yLCAiJHNjaGVtYS50eXBlIiwg
Qml6RG9jVHlwZUhlbHBlci5nZXRDb250ZW50U2NoZW1hVHlwZSh0eXBlKSwgZmFsc2UpOwogICAg
ICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgSURhdGFIZWxwZXIucHV0KGN1cnNvciwg
IiRjb250ZW50LnNjaGVtYSIsIEJpekRvY1R5cGVIZWxwZXIuZ2V0Q29udGVudFNjaGVtYSh0eXBl
KSwgZmFsc2UpOwogICAgICAgICAgICAgICAgSURhdGFIZWxwZXIucHV0KGN1cnNvciwgIiRjb250
ZW50LnNjaGVtYS50eXBlIiwgQml6RG9jVHlwZUhlbHBlci5nZXRDb250ZW50U2NoZW1hVHlwZSh0
eXBlKSwgZmFsc2UpOwogICAgICAgICAgICB9CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAg
ICAgY3Vyc29yLmRlc3Ryb3koKTsKICAgICAgICB9CiAgICB9Cn0K</value>
  <value name="extends"></value>
  <array name="implements" type="value" depth="1">
  </array>
  <array name="imports" type="value" depth="1">
    <value>com.wm.app.tn.delivery.DeliveryQueue</value>
    <value>com.wm.app.tn.doc.BizDocContentPart</value>
    <value>com.wm.app.tn.doc.BizDocEnvelope</value>
    <value>com.wm.app.tn.doc.BizDocType</value>
    <value>com.wm.app.tn.err.ActivityLogEntry</value>
    <value>java.io.InputStream</value>
    <value>java.io.IOException</value>
    <value>java.nio.charset.Charset</value>
    <value>java.util.Map</value>
    <value>permafrost.tundra.data.IDataHelper</value>
    <value>permafrost.tundra.io.InputStreamHelper</value>
    <value>permafrost.tundra.lang.BooleanHelper</value>
    <value>permafrost.tundra.lang.CharsetHelper</value>
    <value>permafrost.tundra.lang.ExceptionHelper</value>
    <value>permafrost.tundra.lang.ObjectHelper</value>
    <value>permafrost.tundra.lang.UnrecoverableException</value>
    <value>permafrost.tundra.mime.MIMETypeHelper</value>
    <value>permafrost.tundra.tn.cache.ProfileCache</value>
    <value>permafrost.tundra.tn.delivery.DeliveryQueueHelper</value>
    <value>permafrost.tundra.tn.document.attribute.transform.Transformer</value>
    <value>permafrost.tundra.tn.document.attribute.transform.number.ImminentPrioritizer</value>
    <value>permafrost.tundra.tn.document.attribute.transform.string.ProfileFinder</value>
    <value>permafrost.tundra.tn.document.attribute.transform.string.FindPatternInAll</value>
    <value>permafrost.tundra.tn.document.attribute.transform.string.FindPatternInAny</value>
    <value>permafrost.tundra.tn.document.attribute.transform.string.FindPatternInNone</value>
    <value>permafrost.tundra.tn.document.attribute.transform.string.MatchPatternInAll</value>
    <value>permafrost.tundra.tn.document.attribute.transform.string.MatchPatternInAny</value>
    <value>permafrost.tundra.tn.document.attribute.transform.string.MatchPatternInNone</value>
    <value>permafrost.tundra.tn.document.BizDocAttributeHelper</value>
    <value>permafrost.tundra.tn.document.BizDocContentHelper</value>
    <value>permafrost.tundra.tn.document.BizDocEnvelopeHelper</value>
    <value>permafrost.tundra.tn.document.BizDocTypeHelper</value>
    <value>permafrost.tundra.tn.log.ActivityLogHelper</value>
    <value>permafrost.tundra.tn.log.EntryType</value>
    <value>permafrost.tundra.tn.profile.ProfileHelper</value>
  </array>
</Values>
